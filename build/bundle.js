var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let a,c;function u(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function l(t){t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function h(){return d(" ")}function p(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function g(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function v(t,e,n){t.classList[n?"add":"remove"](e)}class ${constructor(){this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.e=f(e.nodeName),this.t=e,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)s(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(l)}}function b(t){c=t}const y=[],_=[],x=[],w=[],j=Promise.resolve();let k=!1;function C(t){x.push(t)}let M=!1;const T=new Set;function A(){if(!M){M=!0;do{for(let t=0;t<y.length;t+=1){const e=y[t];b(e),E(e.$$)}for(b(null),y.length=0;_.length;)_.pop()();for(let t=0;t<x.length;t+=1){const e=x[t];T.has(e)||(T.add(e),e())}x.length=0}while(y.length);for(;w.length;)w.pop()();k=!1,M=!1,T.clear()}}function E(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(C)}}const O=new Set;function N(t,e){t&&t.i&&(O.delete(t),t.i(e))}function U(t,e,n,r){if(t&&t.o){if(O.has(t))return;O.add(t),undefined.c.push((()=>{O.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function z(t){t&&t.c()}function S(t,n,i,a){const{fragment:c,on_mount:u,on_destroy:s,after_update:l}=t.$$;c&&c.m(n,i),a||C((()=>{const n=u.map(e).filter(o);s?s.push(...n):r(n),t.$$.on_mount=[]})),l.forEach(C)}function V(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function F(t,e){-1===t.$$.dirty[0]&&(y.push(t),k||(k=!0,j.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function L(e,o,i,a,u,s,f,d=[-1]){const h=c;b(e);const p=e.$$={fragment:null,ctx:null,props:s,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(h?h.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:o.target||h.$$.root};f&&f(p.root);let m=!1;if(p.ctx=i?i(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&u(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),m&&F(e,t)),n})):[],p.update(),m=!0,r(p.before_update),p.fragment=!!a&&a(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach(l)}else p.fragment&&p.fragment.c();o.intro&&N(e.$$.fragment),S(e,o.target,o.anchor,o.customElement),A()}b(h)}class D{$destroy(){V(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function H(e){let n;return{c(){n=f("div"),n.innerHTML="<strong>Warning!</strong> This is a prototype. Data likely to contain inaccuracies.",m(n,"class","warning svelte-srzfvi")},m(t,e){s(t,n,e)},p:t,i:t,o:t,d(t){t&&l(n)}}}class R extends D{constructor(t){super(),L(this,t,null,H,i,{})}}let q={"quarter of a million":25e4,"half a million":5e5,"three quarters of a million":75e4,"one million":1e6},B={"one in two":.5,"one in three":.333,"one in four":.25,"one in five":.2,"one in six":.167,"one in seven":.143,"one in eight":.125,"one in nine":.111,"1 in 10":.1,"1 in 11":.09,"1 in 12":.083,"1 in 13":.077,"1 in 14":.071,"1 in 15":.067,"1 in 16":.063,"1 in 17":.059,"1 in 18":.056,"1 in 19":.053,"1 in 20":.05,"1 in 30":.033,"1 in 40":.025,"1 in 50":.02,"2 in 10":.2,"3 in 10":.3,"4 in 10":.4,"6 in 10":.6,"7 in 10":.7,"8 in 10":.8,"9 in 10":.9,all:1};function I(t,e){let n;"frac"==e?e=B:"num"==e&&(e=q);let r,o=2e6;for(const i in e)Math.abs(t-e[i])<o&&(o=Math.abs(t-e[i]),r=i,t-e[i]==0?n="about":t-e[i]>0?n="just over":t-e[i]<0&&(n="just under"));return[n,r]}function P(t){let e,n=Number.parseFloat(Number.parseFloat(t).toPrecision(2));return t-n<-t/100&&(e="under "),e=t-n<-t/800?1==Math.round(Math.random())?"almost ":"just under ":t-n>t/100?" just over ":t-n>t/800?"just over ":"about",[e,n]}function Z(t,e,n,r){return r="rl"==r?"_rank_local":"r"==r?"_rank":"",e.data[t[n][0]][t[n][1]+r][2011][t[n][3]]}function J(t,e,n,r){return r="rl"==r?"_rank_local":"r"==r?"_rank":"",e.data[t[n][0]][t[n][1]+r].change[t[n][3]]}function K(t){return Math.ceil(5*t/331)}function W(t,e,n,r,o){"number"==typeof r&r<0?r="highest":"number"==typeof r&&(r="lowest");let i,a=Object.assign({},e.data[t[n][0]][t[n][1]+"_rank_local"][o]),c=new Set(chains[t[n][3]]);for(let t of Object.keys(a))c.has(t)||delete a[t];if(Object.keys(a).length>1){if("lowest"==r){for(let[t,e]of Object.entries(a))e>0&&delete a[t];i=a.length>0?Object.keys(a).reduce(((t,e)=>a[t]>a[e]?t:e)):void 0}if("highest"==r){for(let[t,e]of Object.entries(a))e<0&&delete a[t];i=a.length>0?Object.keys(a).reduce(((t,e)=>a[t]<a[e]?t:e)):void 0}}else i=Object.keys(a);return i}function X(t,e,n,r="r"){let o="";return"rl"==r&&(o="_local"),e.data[t[n][0]][t[n][1]+"_rank"+o].change[W(t,e,n,J(t,e,n,r),"change")]}function Y(t,e,n){return t<0?n:e}var G=["","","second-","third-","fourth-","fifth-","sixth-","seventh-","eighth-","ninth-"];function Q(t){let e;return console.log("X",t),e=Math.abs(t)<10?G[Math.abs(t)]:function(t){let e;if(12==t)e="twelfth";else if(t>10&t<20)e=t+"th";else{let n=Math.round(t)%10;e=1==n?t+"st":2==n?t+"nd":3==n?t+"rd":t+"th"}return e}(Math.abs(t))+"-",e}var tt={},et={};function nt(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function rt(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function ot(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function it(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),o=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+ot(-e,6):e>9999?"+"+ot(e,6):ot(e,4))+"-"+ot(t.getUTCMonth()+1,2)+"-"+ot(t.getUTCDate(),2)+(i?"T"+ot(n,2)+":"+ot(r,2)+":"+ot(o,2)+"."+ot(i,3)+"Z":o?"T"+ot(n,2)+":"+ot(r,2)+":"+ot(o,2)+"Z":r||n?"T"+ot(n,2)+":"+ot(r,2)+"Z":"")}var at=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,o=[],i=t.length,a=0,c=0,u=i<=0,s=!1;function l(){if(u)return et;if(s)return s=!1,tt;var e,r,o=a;if(34===t.charCodeAt(o)){for(;a++<i&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=i?u=!0:10===(r=t.charCodeAt(a++))?s=!0:13===r&&(s=!0,10===t.charCodeAt(a)&&++a),t.slice(o+1,e-1).replace(/""/g,'"')}for(;a<i;){if(10===(r=t.charCodeAt(e=a++)))s=!0;else if(13===r)s=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(o,e)}return u=!0,t.slice(o,i)}for(10===t.charCodeAt(i-1)&&--i,13===t.charCodeAt(i-1)&&--i;(r=l())!==et;){for(var f=[];r!==tt&&r!==et;)f.push(r),r=l();e&&null==(f=e(f,c++))||o.push(f)}return o}function o(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function i(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?it(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,o,i=r(t,(function(t,r){if(n)return n(t,r-1);o=t,n=e?function(t,e){var n=nt(t);return function(r,o){return e(n(r),o,t)}}(t,e):nt(t)}));return i.columns=o||[],i},parseRows:r,format:function(e,n){return null==n&&(n=rt(e)),[n.map(a).join(t)].concat(o(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=rt(t)),o(t,e).join("\n")},formatRows:function(t){return t.map(i).join("\n")},formatRow:i,formatValue:a}}(","),ct=at.parse;function ut(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function st(t,e){return fetch(t,e).then(ut)}var lt,ft=(lt=ct,function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=void 0),st(t,e).then((function(t){return lt(t,n)}))});function dt(t){let e,n=t[0]&&ht(t);return{c(){n&&n.c(),e=d("")},m(t,r){n&&n.m(t,r),s(t,e,r)},p(t,r){t[0]?n?n.p(t,r):(n=ht(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&l(e)}}}function ht(t){let e,n,o,i,a,c,d,b,y=t[7](t[0],t[5])+"";return{c(){e=f("main"),n=new $,o=h(),i=f("div"),i.innerHTML='<div style="width: 15px; float: left; padding: 3px 6px 6px 16px;"><div class="css-1dbjc4n r-1habvwh r-18u37iz r-dnmrzs r-1ny4l3l"><div class="css-1dbjc4n r-14g73ha r-1d4mawv r-1bymd8e r-1b94p3d"><svg viewBox="0 0 24 24" aria-hidden="true" style="fill: rgb(136 136 136);"><g><path d="M12.22 1.75h-.44c-4.51 0-8.16 3.65-8.16 8.16v6.84c0 3.04 2.46 5.5 5.5 5.5h5.76c3.04 0 5.5-2.46 5.5-5.5V9.91c0-4.51-3.65-8.16-8.16-8.16zM8.61 13.52c-1.05 0-1.89-.85-1.89-1.9s.84-1.9 1.89-1.9c1.04 0 1.89.85 1.89 1.9s-.85 1.9-1.89 1.9zm6.78 0c-1.04 0-1.89-.85-1.89-1.9s.85-1.9 1.89-1.9c1.05 0 1.89.85 1.89 1.9s-.84 1.9-1.89 1.9zM23 9.17v5.66c0 .5-.41.91-.91.91h-.05c-.5 0-.91-.41-.91-.91V9.17c0-.51.41-.91.91-.91h.05c.5 0 .91.4.91.91zm-20.13 0v5.66c0 .5-.41.91-.91.91h-.05c-.5 0-.91-.41-.91-.91V9.17c0-.51.41-.91.91-.91h.05c.5 0 .91.4.91.91z"></path></g></svg></div></div></div> \n\t\t\t\t\t<div dir="auto"><span style="font-size: small; padding: 10px 10px 10px 10px; colour: rgb(136 136 136)">Semi-automated</span></div>',a=h(),c=f("div"),c.innerHTML='<p>This content was created using some automation. \n\t\t\t\t\t\t<a href="">Find out more about how the ONS use automation in digital publishing</a>\n\t\t\t\t\t\t.</p>',n.a=o,g(i,"width","180px"),g(i,"background","#f4f4f4"),g(i,"border-radius","5px"),m(i,"class","svelte-pnix7g"),v(i,"active",t[2]),g(c,"width","400px"),g(c,"font-size","small"),g(c,"display","none"),g(c,"padding","5px"),m(c,"class","svelte-pnix7g"),v(c,"active2",t[4]),m(e,"class","svelte-pnix7g")},m(r,l){s(r,e,l),n.m(y,e),u(e,o),u(e,i),u(e,a),u(e,c),d||(b=[p(i,"mouseenter",t[10]),p(i,"mouseleave",t[11]),p(i,"click",t[8]),p(c,"mouseenter",t[12]),p(c,"mouseleave",t[13]),p(c,"click",t[8])],d=!0)},p(t,e){1&e&&y!==(y=t[7](t[0],t[5])+"")&&n.p(y),4&e&&v(i,"active",t[2]),16&e&&v(c,"active2",t[4])},d(t){t&&l(e),d=!1,r(b)}}}function pt(e){let n,r,o,i,c,d,v,$,b=e[1]&&dt(e);return{c(){var t,e;n=f("script"),o=h(),i=f("div"),c=f("div"),d=h(),b&&b.c(),t=n.src,e=r="./rosaenlg_tiny_en_US_3.2.2_comp.js",a||(a=document.createElement("a")),a.href=e,t!==a.href&&m(n,"src","./rosaenlg_tiny_en_US_3.2.2_comp.js"),g(c,"height","50px")},m(t,r){u(document.head,n),s(t,o,r),s(t,i,r),u(i,c),u(i,d),b&&b.m(i,null),v||($=p(n,"load",e[6]),v=!0)},p(t,[e]){t[1]?b?b.p(t,e):(b=dt(t),b.c(),b.m(i,null)):b&&(b.d(1),b=null)},i:t,o:t,d(t){l(n),t&&l(o),t&&l(i),b&&b.d(),v=!1,$()}}}function mt(t,e,n){let r={};ft("./data.csv").then((t=>{t.forEach((t=>{n(0,r[t.Variable]={},r),n(0,r[t.Variable][0]=parseFloat(t[0].replace("%","").replace(",","")),r),n(0,r[t.Variable][1]=parseFloat(t[1].replace("%","").replace(",","")),r)}))}));let o={};var i;ft("./meta.csv").then((t=>{t.forEach((t=>{n(9,o[t.issue]=t.info,o)}))})),fetch("./template.txt").then((t=>t.text())).then((t=>i=t));let a=!1;let c={word1:"In the week to 2 June 2022",word2:"tested positive for COVID-19",word3:"the week",word4:"testing positive"},u=!1,s=!1,l=!1;return t.$$.update=()=>{1&t.$$.dirty&&console.log(r),512&t.$$.dirty&&console.log(o)},[r,a,u,s,l,undefined,()=>{n(1,a=!0)},function(t,e){return rosaenlg_en_US.render(i,{language:"en_UK",data:r,meta:o,get_word:I,figs:P,otherEst:W,cur:Z,cha:J,qui:K,otherRank:X,ud:Y,ord:Q,wordob:c})},function(){n(3,s=!0),console.log("clicked",s),setTimeout((()=>{n(3,s=!1),n(2,u=!1),n(4,l=!1)}),2e3)},o,()=>{console.log("enter",s),s||(n(2,u=!0),n(4,l=!0))},()=>{console.log("leave",s),s||(n(2,u=!1),n(4,l=!1))},()=>{console.log("enter",s),s||n(4,l=!0)},()=>{console.log("leave",s),s||n(4,l=!1)}]}class gt extends D{constructor(t){super(),L(this,t,mt,pt,i,{})}}function vt(e){let n,r,o,i;return n=new R({}),o=new gt({}),{c(){z(n.$$.fragment),r=h(),z(o.$$.fragment)},m(t,e){S(n,t,e),s(t,r,e),S(o,t,e),i=!0},p:t,i(t){i||(N(n.$$.fragment,t),N(o.$$.fragment,t),i=!0)},o(t){U(n.$$.fragment,t),U(o.$$.fragment,t),i=!1},d(t){V(n,t),t&&l(r),V(o,t)}}}return new class extends D{constructor(t){super(),L(this,t,null,vt,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
